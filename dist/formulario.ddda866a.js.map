{"mappings":"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","sources":["src/script/form.js"],"sourcesContent":["/* Settings*/\nlet tipoManutencao = getElement('itipo');\ncampoCorretiva()\ntipoManutencao.addEventListener('change',()=>{\n  if (tipoManutencao.value=='preventiva') {\n    campoPreventiva()\n  }else{\n    campoCorretiva()\n  }\n})\n\ndocument.querySelector('#preventivaForm').removeChild(document.querySelector(\"#preventivaForm > button:nth-child(6)\"))\n// Um botão invisível no campo preventiva\n\nmanutencaoPreventiva()\n//Coloca as funções nos botões no campo preventiva\n\nconst pMaterial = document.getElementById('materialConfirm');\nvar materialCounter = 0; //serve como etiqueta para os materiais\n\nconst pCorfim = document.getElementById('materialConfirm');\npCorfim.addEventListener('click',()=>addMaterial())\nconst materialHolder = document.getElementById('div__material');\n\ngetElement('iimages').addEventListener('change', updateImages);\nconst imageText = {}//Chave:imgName valor= [img,legenda]\n\nconst btn = getElement('btn');\nbtn.addEventListener('click',fillTable);\n\n// getElement('assinatura-btn').addEventListener('click',assinatura)\n\n//colocar data atual\ndocument.querySelectorAll('[type=date]').forEach((e)=>{\n  let date = new Date()\n  e.value =\n  `${date.getFullYear()}-${date.getMonth().toString().padStart(2,'0') }-${date.getDate().toString().padStart(2,'0')}`\n})\n\n\n\n \n/* ---Funções Principais--- \n Funções acionadas pelo usuário\n*/ \nfunction assinatura() {\n//Criando quadro canvas e dando popOut\n  let canvas = document.createElement('canvas')\n  canvas.id = 'quadro'\n  popOut({value:'Assinatura'},'','',canvas)\n  desenharCanvas()\n}\nfunction addMaterial() {\n  // Adiciona o campo de material no formulário\n  let quantidade = document.createElement('input')\n  quantidade.id = 'imqtd'+ materialCounter;\n  quantidade.placeholder = 'Quantidade';\n  quantidade.type = 'number';\n  quantidade.title = quantidade.placeholder\n\n  let valorUniatario = document.createElement('input')\n  valorUniatario.id= 'imvalorUnit' + materialCounter\n  valorUniatario.placeholder = 'Valor Unitário'\n  valorUniatario.title = valorUniatario.placeholder\n  valorUniatario.type = 'number';\n  valorUniatario.pattern = /d{2}(,|.)\\d{2}/\n\n  let descricao = document.createElement('input');\n  descricao.id= 'imdescricao' + materialCounter\n  descricao.placeholder = 'Decrição'\n  descricao.title = descricao.placeholder\n\n  \n  let unidade = document.createElement('input');\n  unidade.id= 'imunidade' + materialCounter\n  unidade.placeholder = 'Unidade de Medida '\n  unidade.title = unidade.placeholder\n  unidade.setAttribute('list','unidadesMedida');\n  //Usar o dataset com valores \n\n\n  const div = document.createElement('div');\n  div.id= 'div'+ materialCounter;\n  \n  const p = document.createElement('p');\n  p.id='resetMaterialBtn'+ materialCounter;\n  p.innerText='Excluir material';\n  p.classList.add('material__p','btn--form');\n  div.classList.add('material__div');\n\n  p.addEventListener('click',()=>{\n    div.remove();\n    materialCounter--\n  });\n\n  materialCounter++;\n  div.append(descricao,quantidade,unidade,valorUniatario,p);\n  materialHolder.append(div)\n}\nfunction fillTable(){\n  //Primeiro apaga os conteudos\n  resetTable()\n  let chamadoId\n let form = getElement('form');\n for (let i = 0; i < form.elements.length-1 ; i++) {\n  const e = form.elements[i];\n  let value \n  switch (e.id) {\n    case 'iimages':\n      value = 'imagens'\n      continue;\n      break;\n    case 'preventivaForm':\n      continue;\n    case 'ichamado':\n      let date = new Date()\n      value = e.value +`A${String(date.getUTCFullYear()).substring(2)}`;\n      chamadoId = value\n      break;\n    case 'idataSaida':\n    case 'idataChegada':\n      value = fixDate(e.value)\n      break\n    default:\n      value = e.value == undefined ? '' : e.value;\n      break;\n    }\n  let tag = (e.id.slice(1))\n  if(tag == 'dataChegada'){\n    //Adicionando a data no campo data\n    \n    addToTable(value,'data')\n  }\n  addToTable(value,tag)\n}\nlet totalTime = subTime(getElement('ihoraChegada').value,getElement('ihoraSaida').value)\naddToTable(totalTime,'tempoTotal')\naddMaterials()\n\naddImages()\nif(getElement('btnId') === null){\n  const printBtn = document.createElement('button')\n  printBtn.classList.add('printBtn');\n  printBtn.id = 'btnId';\n  printBtn.addEventListener('click',()=>{\n    document.title =`RELATORIO_OS${chamadoId}`\n    print()\n    document.title = 'Gerar Relatório'\n  });\n  printBtn.innerText='Imprimir pdf';\n  getElement('btn-holder').append(printBtn);\n}\n \n}\nfunction manutencaoPreventiva(){\n  //Adiciona função nos botões para adicionar no textarea\n  let p = document.getElementById('preventivaForm').children\n  for (const button of p) {\n    if(button.nodeName=='BUTTON'){\n      if(button.classList.contains('btn__prev--value')){\n        //Botões com parâmetros\n        button.addEventListener('click', ()=>{\n          let final\n          let txt = {\n            value: button.innerHTML,\n            classes:['']\n          }\n          let input ={\n            type:'number',\n            placeholder:'Digite o valor desejado ',\n            classes:['input__PopOut'],\n            initial:''\n          }\n          let btn = document.createElement('button')\n          btn.textContent ='Salvar'\n          btn.addEventListener('click', savetxt)\n          function savetxt() {\n            button.classList.add('used')\n            let v= document.querySelector(\"body > div.popOut > input\").value\n            final = button.innerHTML.replace('___', v)\n            addToTextarea('imanutencao',final+'\\n')\n            btn.removeEventListener('click',savetxt)\n            btn.textContent = 'Salvo';\n            \n          }\n          popOut(txt,input,'',btn)\n          // Mostra o popout\n\n      })\n    } else{\n\n      button.addEventListener('click',addtxt)\n      function addtxt() {\n          addToTextarea('imanutencao',button.textContent+'\\n')\n          button.classList.add('used')\n          button.removeEventListener('click',addtxt)\n      }\n    }\n    }\n  }\n}\nfunction updateImages() {\n  const holder = document.querySelector('.preview__img')\n  let images = getElement('iimages').files;\n  if(images.length >0){\n    for (const image of images) {\n    const imgHolder = document.createElement('div');\n    const img = document.createElement('img');\n    imgHolder.classList.add('image__holder');\n    img.classList.add('img');\n    holder.classList.add('preview__img--visible');\n    img.src = URL.createObjectURL(image);\n    imgHolder.appendChild(img);\n    holder.append(imgHolder);\n\n    const imgName =  image.name.slice(0, (image.name).lastIndexOf('.')) ;\n    img.alt = imgName;\n    img.title = imgName;\n    imgHolder.id= imgName;\n    imgHolder.addEventListener('dblclick',(e)=>{\n      e.target.remove();\n      \n    },true);\n    imgHolder.addEventListener('click',(event)=>{\n      popOutImg(event.target)\n    });\n    imageText[imgName]=[img,''];\n    //Guarda a imagem sem legenda\n    }\n    return `${images.length} imagens adicionadas`\n  }else{\n    return 'Sem Imagens'\n  }\n}\n\n/*FUNÇÔES DE Auxiliares */ \n\nfunction desenharCanvas() {\n  let canvas = document.getElementById('quadro')\n  let ctx = canvas.getContext(\"2d\")\n  let desenhando = false\n  // O offset representam a distância\n  // entre a borda do elemento e as bordas da tela\n  canvas.onmousedown = function (e){\n    console.log(e)\n    console.log(canvas)\n    ctx.beginPath();\n    ctx.moveTo(e.clientX - canvas.offsetWidth, e.clientY - canvas.offsetHeight);\n    //calculando a distancia real\n    desenhando = true\n  }\n  canvas.onmouseup = function (){\n    desenhando = false\n  }\n  canvas.onmousemove = function (e){\n    if (desenhando){\n      ctx.lineTo(e.clientX - canvas.offsetWidth, e.clientY - canvas.offsetHeight);\n      ctx.strokeStyle = \"black\";\n      ctx.stroke();\n    }\n  }\n}\nfunction subTime(time01,time02) {\n  let t1 = Number(time01.slice(0,2)),\n  m2 = Number(time02.slice(3,5)),\n  m1=Number(time01.slice(3,5)),\n  t2 = Number(time02.slice(0,2));\n  let newTime1 = t1 + (m1/60);\n  let newTime2 = t2 + (m2/60);\n  let x = newTime2 - newTime1;\n  x = x.toFixed(2);\n  return x;\n\n}\nfunction addImages() {\n  for (const k in imageText) {\n    const element = imageText[k];\n    const p = document.createElement('p');\n    const div = document.createElement('div');\n    const img = element[0].cloneNode();\n    img.classList.add('img__table')\n    p.classList.add('p__table')\n    div.append(img,p);\n    p.textContent= element[1];\n    p.classList.add('legendImg');\n    offToggle([],[document.querySelector('.imagens')])\n    getElement('imagens').appendChild(div)\n  }\n}\nfunction addMaterials() {\n if(materialHolder.children.length >0){\n  //Adiciona os materiais na tabela\n  offToggle([],[document.querySelector('.materiais')])\n  let materialsNumber = materialHolder.children.length;\n  let sum = 0;// Soma total\n  for (let i = 0; i < materialsNumber; i++) {\n    // pega os valores dos campos e adiciona na tabela\n    const material = materialHolder.children[i];\n    console.log(material.children)\n    let descricao = material.children[0].value,\n    quantidade = material.children[1].value,\n    unidade = material.children[2].value,\n    valorUnitario = material.children[3].value\n\n    let total = valorUnitario *quantidade;\n    sum+= Number(total)\n    total = total.toLocaleString(\"pt-BR\", { style: \"currency\" , currency:\"BRL\"});\n    valorUnitario = valorUnitario.toLocaleString('pt-BR',{style:'currency', currency:\"BRL\"});\n\n    createMaterialField(descricao,quantidade,unidade,\n      valorUnitario,total)\n    \n  }\n  sum = sum.toLocaleString('pt-BR',{style:\"currency\", currency:'BRL'})\n  getElement('total').innerHTML = sum \n }else{\n  offToggle([document.querySelector('.materiais')],[])\n }  \n}\nfunction resetTable() {\n//Imagem e material da table, caso tenha\nwhile (getElement('imagens').firstChild) {\n  getElement('imagens').removeChild(getElement('imagens').firstChild);\n  offToggle([document.querySelector('#imagens')],[])\n}\ntry {\n  //Apaga os campso de materiais\n  let c =document.querySelector('.materiais').children.length\n  for (let i = c; 0 < c-1; i--) {\n    //para evitar erro ao apagar os indices o loop é descrecente\n    const e = document.querySelector('.materiais').children[i-1];\n    if(e.classList.contains('titulo')|| e.id == 'total' ){\n      continue;\n    }  \n    e.remove()\n    }\n} catch (error) {}\n//Para evitar mostrar erro no index \n}\nfunction createMaterialField(descricao='descrição',quantidade='0',\nunidade='0',valorUnitario='0',sum) {\n  // Cria os campos para armazenar os dados, \n  // e os adiciona na tabela\n\n  let desc = document.createElement('div'),\n  quant = document.createElement('div'),\n  uni = document.createElement('div'),\n  valorUni = document.createElement('div'),\n  total = document.createElement('div')\n\n  desc.innerHTML = descricao\n  quant.innerHTML = quantidade\n  uni.innerHTML = unidade\n  valorUni.innerHTML = valorUnitario\n  total.innerHTML = sum\n  document.querySelector('#materialTotal').before(desc,quant,\n    uni,valorUni,total);\n\n\n}\nfunction addToTextarea(element,info) {\n  getElement(element).value +=info;\n  addLines(getElement(element),30)  \n}\nfunction popOut(text='',input='',image='',...other) {\n  /*\n    Recebe:\n    text{\n      value: '',\n      classes:[]\n    }\n    input{\n      type: '',\n      classes:[],\n      placeholder: '',\n      initial:any\n    }\n    image{\n      name: '',\n      url:'',\n      classes:['']\n    }\n    \n  */\n let toAppend =[other]//Coloca os itens na div\n let p, inputf, img,btn\n const sair = document.createElement('span');\n\n  sair.classList.add('material-symbols-outlined')\n  sair.style.cursor = 'pointer'\n  sair.innerHTML = 'close'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n\n const div = document.createElement('div');\n div.appendChild(sair)\n\n  if (text !='') {\n    p = document.createElement('p');\n    p.innerHTML = text.value\n    try {\n      p.classList.add(classes)\n    } catch (error) {\n      \n    }\n    div.append(p)\n  }\n  if(input !== '') {\n    inputf = document.createElement('input')\n    inputf.type = input.type;\n    inputf.value = input.initial\n    inputf.placeholder = input.placeholder\n    try {\n      inputf.classList.add(input.classes)\n    } catch (error) {\n      \n    }\n    div.append(inputf)\n  }\n  if(image != ''){\n\n    img = document.createElement('img')\n    img.title = image.name;\n    img.alt = image.name;\n    //img.src = URL.createObjectURL(image.image)\n    \n    try {\n      img.classList.add(image.classes)\n    } catch (error) {\n    }\n    div.append(image)\n  }\n  \n  \n  div.classList.add('popOut');\n  \n  for (let i = 0; i < toAppend.length; i++) {\n    const element = other[i];\n    div.append(element)\n  }\n  \n  document.body.appendChild(div)\n  \n}\nfunction popOutImg(e) {\n  //Aparece 2 opções, Deletar ou adicionar texto\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  const input = document.createElement('input');\n  const sair = document.createElement('span');\n  const saveBtn = document.createElement('button');\n  const deleteBtn = document.createElement('button')\n  const image = e.cloneNode();\n  \n  saveBtn.classList.add('saveBtn');\n  saveBtn.textContent = 'salvar';\n  sair.textContent ='close';\n  deleteBtn.textContent = 'Deletar Imagem'\n  input.placeholder = 'Legenda da Imagem';\n  div.classList.add('popOut');\n  sair.classList.add(['material-symbols-outlined'])\n  deleteBtn.classList.add('deleteImgBtn')\n  p.textContent='Escreva uma legenda para a imagem selecionada';\n  sair.style.cursor = 'pointer'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n  saveBtn.addEventListener('click',()=>{\n    imageText[image.alt]=[image,input.value];\n    // Salva a imagem com uma legenda\n    input.style.backgroundColor='#1eff3396';\n    saveBtn.textContent='Salvo';\n    input.style.color='green';\n  })\n  deleteBtn.addEventListener('click',()=>{\n    e.remove()\n  })\n  div.append(sair,p,image,input,saveBtn,deleteBtn);\n\n  document.body.appendChild(div);\n\n}\nfunction addToTable(data, where) {\n  //Pega os valores e coloca na tabela\n  try {\n    let element = getElement(where)\n    element.innerText = data\n  } catch (error) {\n  }\n}\nfunction getElement(id=undefined,className=undefined,tag=undefined) {\n  if(className===undefined && tag === undefined){\n    return document.getElementById(id);\n  }else if(tag===undefined){\n    return document.getElementsByClassName(className);\n  } else{\n    return document.querySelectorAll(tag);\n  }\n}\nfunction campoPreventiva(){\n  //Faz o toggle entre o campo preventiva e corretiva\n  offToggle(\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')],\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')])\n}\nfunction offToggle(hide,show){\n  //Toggle no campo corretiva e preventiva\n  for (const i of hide) {\n    i.classList.add('off')\n  }\n  for (const i of show) {\n    i.classList.remove('off')\n  }\n}\nfunction campoCorretiva() {\n  offToggle(\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')],\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')]\n    )\n \n}\nfunction addLines(t,height) {\n  t.style.fontSize=height+'px';\n  if(t.offsetHeight < t.scrollHeight){\n  let h =Number(t.style.fontSize.slice(0,2));\n  //tamanho do Textarea\n  let newRow = Math.floor(t.scrollHeight/h)\n  t.rows = newRow;\n  }\n}\nfunction fixDate(date) {\n  // 2024/02/08\n  date = date.replace(/-/g,'/')\n  console.log(date)\n  let year = String(date).substring(0,4)\n  let month = String(date).substring(5,7)\n  let day = String(date).substring(8,10)\n  return `${day}/${month}/${year}`;\n}"],"names":["tipoManutencao","getElement","campoCorretiva","addEventListener","value","campoPreventiva","document","querySelector","removeChild","manutencaoPreventiva","pMaterial","getElementById","materialCounter","pCorfim","addMaterial","materialHolder","updateImages","imageText","btn","assinatura","canvas","createElement","id","popOut","desenharCanvas","quantidade","placeholder","type","title","valorUniatario","pattern","descricao","unidade","setAttribute","div","p","innerText","classList","add","remove","append","fillTable","chamadoId","resetTable","form","i","elements","length","e","date","Date","String","getUTCFullYear","substring","fixDate","undefined","tag","slice","addToTable","subTime","addMaterials","addImages","printBtn","print","children","button","nodeName","contains","final","txt","innerHTML","classes","textContent","savetxt","v","replace","addToTextarea","removeEventListener","initial","addtxt","holder","images","files","image","imgHolder","img","src","URL","createObjectURL","appendChild","imgName","name","lastIndexOf","alt","target","event","popOutImg","ctx","getContext","desenhando","onmousedown","console","log","beginPath","moveTo","clientX","offsetWidth","clientY","offsetHeight","onmouseup","onmousemove","lineTo","strokeStyle","stroke","time01","time02","t1","Number","m2","m1","x","toFixed","k","element","cloneNode","offToggle","materialsNumber","sum","material","valorUnitario","total","toLocaleString","style","currency","createMaterialField","firstChild","c","error","desc","quant","uni","valorUni","before","info","addLines","text","input","other","inputf","toAppend","sair","cursor","body","saveBtn","deleteBtn","backgroundColor","color","data","where","className","getElementsByClassName","querySelectorAll","hide","show","t","height","fontSize","scrollHeight","h","newRow","Math","floor","rows","year","month","forEach","getFullYear","getMonth","toString","padStart","getDate"],"version":3,"file":"formulario.ddda866a.js.map"}