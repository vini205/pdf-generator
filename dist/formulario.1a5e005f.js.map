{"mappings":"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","sources":["src/script/form.js"],"sourcesContent":["/* Settings*/\nlet tipoManutencao = getElement('itipo');\ncampoCorretiva()\ntipoManutencao.addEventListener('change',()=>{\n  if (tipoManutencao.value=='preventiva') {\n    campoPreventiva()\n  }else{\n    campoCorretiva()\n  }\n})\n\ndocument.querySelector('#preventivaForm').removeChild(document.querySelector(\"#preventivaForm > button:nth-child(6)\"))\n// Um botão invisível no campo preventiva\n\nmanutencaoPreventiva()\n//Coloca as funções nos botões no campo preventiva\n\nconst pMaterial = document.getElementById('materialConfirm');\nvar materialCounter = 0; //serve como etiqueta para os materiais\n\nconst pCorfim = document.getElementById('materialConfirm');\npCorfim.addEventListener('click',()=>addMaterial())\nconst materialHolder = document.getElementById('div__material');\n\ngetElement('iimages').addEventListener('change', updateImages);\nconst imageText = {}//Chave:imgName valor= [img,legenda]\n\nconst btn = getElement('btn');\nbtn.addEventListener('click',fillTable);\n\ngetElement('assinatura-btn').addEventListener('click',assinatura)\n\n\n \n/* ---Funções Principais--- \n Funções acionadas pelo usuário\n*/ \nfunction assinatura() {\n//Criando quadro canvas e dando popOut\n  let canvas = document.createElement('canvas')\n  canvas.id = 'quadro'\n  popOut({value:'Assinatura'},'','',canvas)\n // desenharCanvas()\n}\nfunction addMaterial() {\n  // Adiciona o campo de material no formulário\n  let quantidade = document.createElement('input')\n  quantidade.id = 'imqtd'+ materialCounter;\n  quantidade.placeholder = 'Quantidade';\n  quantidade.type = 'number';\n  quantidade.title = quantidade.placeholder\n\n  let valorUniatario = document.createElement('input')\n  valorUniatario.id= 'imvalorUnit' + materialCounter\n  valorUniatario.placeholder = 'Valor Unitário'\n  valorUniatario.title = valorUniatario.placeholder\n  valorUniatario.type = 'number';\n\n  let descricao = document.createElement('input');\n  descricao.id= 'imdescricao' + materialCounter\n  descricao.placeholder = 'Decrição'\n  descricao.title = descricao.placeholder\n\n  let unidade = document.createElement('input');\n  unidade.id= 'imunidade' + materialCounter\n  unidade.placeholder = 'Unidade '\n  unidade.title = unidade.placeholder\n\n  const div = document.createElement('div');\n  div.id= 'div'+ materialCounter;\n  \n  const p = document.createElement('p');\n  p.id='resetMaterialBtn'+ materialCounter;\n  p.innerText='Excluir material';\n  p.classList.add('material__p');\n  div.classList.add('material__div');\n\n  p.addEventListener('click',()=>{\n    div.remove();\n    materialCounter--\n  });\n\n  materialCounter++;\n  div.append(quantidade,valorUniatario,descricao,unidade,p);\n  materialHolder.append(div)\n}\nfunction fillTable(){\n  //Primeiro apaga os conteudos\n  resetTable()\n let form = getElement('form');\n for (let i = 0; i < form.elements.length-1 ; i++) {\n  const e = form.elements[i];\n  let value \n  switch (e.id) {\n    case 'iimages':\n      value = 'imagens'\n      continue;\n      break;\n    case 'preventivaForm':\n      continue;\n    default:\n      value = e.value == undefined ? '' : e.value;\n      break;\n    }\n  let tag = (e.id.slice(1))\n  if(tag == 'dataChegada'){//Adicionando a data no campo data\n    \n    addToTable(value,'data')\n  }\n  addToTable(value,tag)\n}\nlet totalTime = subTime(getElement('ihoraChegada').value,getElement('ihoraSaida').value)\naddToTable(totalTime,'tempoTotal')\naddMaterials()\n\naddImages()\n\n const printBtn = document.createElement('button')\n printBtn.classList.add('printBtn');\n printBtn.addEventListener('click',()=>print());\n printBtn.innerText='Baixar PDF ou Imprimir';\n getElement('btn-holder').append(printBtn);\n \n}\nfunction manutencaoPreventiva(){\n  //Adiciona função nos botões para adicionar no textarea\n  let p = document.getElementById('preventivaForm').children\n  for (const button of p) {\n    if(button.nodeName=='BUTTON'){\n      if(button.classList.contains('btn__prev--value')){\n        //Botões com parâmetros\n        button.addEventListener('click', ()=>{\n          let final\n          let txt = {\n            value: button.innerHTML,\n            classes:['']\n          }\n          let input ={\n            type:'number',\n            placeholder:'Digite o valor desejado ',\n            classes:['input__PopOut'],\n            initial:0\n          }\n          let btn = document.createElement('button')\n          btn.textContent ='Salvar'\n          btn.addEventListener('click', ()=>{\n            button.classList.add('used')\n            let v= document.querySelector(\"body > div.popOut > input\").value\n            final = button.innerHTML.replace('___', v)\n            \n            addToTextarea('imanutencao',final+'\\n')\n            \n          })\n          popOut(txt,input,'',btn)\n          // Mostra o popout\n\n      })\n    } else{\n\n      button.addEventListener('click',()=>{\n        addToTextarea('imanutencao',button.textContent+'\\n')\n        button.classList.add('used')\n        \n      })\n    }\n    }\n  }\n}\nfunction updateImages() {\n  const holder = document.querySelector('.preview__img')\n  let images = getElement('iimages').files;\n  if(images.length >0){\n    for (const image of images) {\n    const imgHolder = document.createElement('div');\n    const img = document.createElement('img');\n    imgHolder.classList.add('image__holder');\n    img.classList.add('img');\n    holder.classList.add('preview__img--visible');\n    img.src = URL.createObjectURL(image);\n    imgHolder.appendChild(img);\n    holder.append(imgHolder);\n\n    const imgName =  image.name.slice(0, (image.name).lastIndexOf('.')) ;\n    img.alt = imgName;\n    img.title = imgName;\n    imgHolder.id= imgName;\n    imgHolder.addEventListener('dblclick',(e)=>{\n      e.target.remove();\n      \n    },true);\n    imgHolder.addEventListener('click',(event)=>{\n      popOutImg(event.target)\n    });\n    imageText[imgName]=[img,''];\n    //Guarda a imagem sem legenda\n    }\n    return `${images.length} imagens adicionadas`\n  }else{\n    return 'Sem Imagens'\n  }\n}\n\n/*FUNÇÔES DE Auxiliares */ \n\nfunction desenharCanvas() {\n  console.log('ola')\n  let canvas = document.getElementById('quadro')\n  let ctx = canvas.getContext(\"2d\")\n  let desenhando = false\n  \n  canvas.onmousedown = function (evt){\n    ctx.beginPath();\n    ctx.moveTo(evt.clientX,evt.clientY);\n    desenhando = true\n  }\n  canvas.onmouseup = function (){\n    desenhando = false\n  }\n  canvas.onmousemove = function (evt){\n    if (desenhando){\n      ctx.lineTo(evt.clientX,evt.clientY);\n      console.log(evt)\n      ctx.strokeStyle = \"red\";\n      ctx.stroke();\n    }\n  }\n}\nfunction subTime(time01,time02) {\n  console.log(time01,time02)\n  let t1 = Number(time01.slice(0,2)),\n  m2 = Number(time02.slice(3,5)),\n  m1=Number(time01.slice(3,5)),\n  t2 = Number(time02.slice(0,2));\n  let newTime1 = t1 + (m1/60);\n  let newTime2 = t2 + (m2/60);\n  let x = newTime2 - newTime1;\n  x = x.toFixed(2);\n  return x;\n\n}\nfunction addImages() {\n  for (const k in imageText) {\n    const element = imageText[k];\n    const p = document.createElement('p');\n    const div = document.createElement('div');\n    const img = element[0].cloneNode();\n    img.classList.add('img__table')\n    p.classList.add('p__table')\n    div.append(img,p);\n    p.textContent= element[1];\n    p.classList.add('legendImg');\n    offToggle([],[document.querySelector('.imagens')])\n    getElement('imagens').appendChild(div)\n  }\n}\nfunction addMaterials() {\n if(materialHolder.children.length-1 >0){\n  //Adiciona os materiais na tabela\n  offToggle([],[document.querySelector('.materiais')])\n  let materialsNumber = materialHolder.children.length-1;\n  let sum = 0;// Soma total\n  for (let i = 1; i < materialsNumber+1; i++) {\n    // pega os valores dos campos e adiciona na tabela\n    const material = materialHolder.children[i];\n    let quantidade = material.children[0].value,\n    valorUnitario = material.children[1].value,\n    descricao = material.children[2].value,\n    unidade = material.children[3].value\n\n    let total = valorUnitario *quantidade;\n    sum+= Number(total)\n    createMaterialField(descricao,quantidade,unidade,\n      'R$ ' +valorUnitario,'R$ ' +total)\n    \n  }\n  getElement('total').innerHTML = 'R$ ' +sum \n }else{\n  offToggle([document.querySelector('.materiais')],[])\n }  \n}\nfunction resetTable() {\n//Imagem e material da table, caso tenha\nwhile (getElement('imagens').firstChild) {\n  getElement('imagens').removeChild(getElement('imagens').firstChild);\n  offToggle([document.querySelector('#imagens')],[])\n}\ntry {\n  //Apaga os campso de materiais\n  let c =document.querySelector('.materiais').children.length\n  for (let i = c; 0 < c-1; i--) {\n    //para evitar erro ao apagar os indices o loop é descrecente\n    const e = document.querySelector('.materiais').children[i-1];\n    if(e.classList.contains('titulo')|| e.id == 'total' ){\n      continue;\n    }  \n    e.remove()\n    }\n  \n} catch (error) {}\n//Para evitar mostrar erro no index \n}\nfunction createMaterialField(descricao='descrição',quantidade='0',\nunidade='0',valorUnitario='0',sum) {\n  // Cria os campos para armazenar os dados, \n  // e os adiciona na tabela\n\n  let desc = document.createElement('div'),\n  quant = document.createElement('div'),\n  uni = document.createElement('div'),\n  valorUni = document.createElement('div'),\n  total = document.createElement('div')\n\n  desc.innerHTML = descricao\n  quant.innerHTML = quantidade\n  uni.innerHTML = unidade\n  valorUni.innerHTML = valorUnitario\n  total.innerHTML = sum\n  document.querySelector('#materialTotal').before(desc,quant,\n    uni, valorUni,total);\n\n\n}\nfunction addToTextarea(element,info) {\n  getElement(element).innerHTML +=info;\n  addLines(getElement(element),30)  \n}\nfunction popOut(text='',input='',image='',...other) {\n  /*\n    Recebe:\n    text{\n      value: '',\n      classes:[]\n    }\n    input{\n      type: '',\n      classes:[],\n      placeholder: '',\n      initial:any\n    }\n    image{\n      name: '',\n      url:'',\n      classes:['']\n    }\n    \n  */\n let toAppend =[other]//Coloca os itens na div\n let p, inputf, img,btn\n const sair = document.createElement('span');\n\n  sair.classList.add('material-symbols-outlined')\n  sair.style.cursor = 'pointer'\n  sair.innerHTML = 'close'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n\n const div = document.createElement('div');\n div.appendChild(sair)\n\n  if (text !='') {\n    p = document.createElement('p');\n    p.innerHTML = text.value\n    try {\n      p.classList.add(classes)\n    } catch (error) {\n      \n    }\n    div.append(p)\n  }\n  if(input !== '') {\n    inputf = document.createElement('input')\n    inputf.type = input.type;\n    inputf.value = input.initial\n    inputf.placeholder = input.placeholder\n    try {\n      inputf.classList.add(input.classes)\n    } catch (error) {\n      \n    }\n    div.append(inputf)\n  }\n  if(image != ''){\n\n    img = document.createElement('img')\n    img.title = image.name;\n    img.alt = image.name;\n    //img.src = URL.createObjectURL(image.image)\n    \n    try {\n      img.classList.add(image.classes)\n    } catch (error) {\n    }\n    div.append(image)\n  }\n  \n  \n  div.classList.add('popOut');\n  \n  for (let i = 0; i < toAppend.length; i++) {\n    const element = other[i];\n    div.append(element)\n  }\n  \n  document.body.appendChild(div)\n  \n}\nfunction popOutImg(e) {\n  //Aparece 2 opções, Deletar ou adicionar texto\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  const input = document.createElement('input');\n  const sair = document.createElement('span');\n  const saveBtn = document.createElement('button');\n  const deleteBtn = document.createElement('button')\n  const image = e.cloneNode();\n  \n  saveBtn.classList.add('saveBtn');\n  saveBtn.textContent = 'salvar';\n  sair.textContent ='close';\n  deleteBtn.textContent = 'Deletar Imagem'\n  input.placeholder = 'Legenda da Imagem';\n  div.classList.add('popOut');\n  sair.classList.add(['material-symbols-outlined'])\n  deleteBtn.classList.add('deleteImgBtn')\n  p.textContent='Escreva uma legenda para a imagem selecionada';\n  sair.style.cursor = 'pointer'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n  saveBtn.addEventListener('click',()=>{\n    imageText[image.alt]=[image,input.value];\n    // Salva a imagem com uma legenda\n    input.style.backgroundColor='#1eff3396';\n    saveBtn.textContent='Salvo';\n    input.style.color='green';\n  })\n  deleteBtn.addEventListener('click',()=>{\n    e.remove()\n  })\n  div.append(sair,p,image,input,saveBtn,deleteBtn);\n\n  document.body.appendChild(div);\n\n}\nfunction addToTable(data, where) {\n  //Pega os valores e coloca na tabela\n  try {\n    let element = getElement(where)\n    element.innerText = data\n  } catch (error) {\n  }\n}\nfunction getElement(id=undefined,className=undefined,tag=undefined) {\n  if(className===undefined && tag === undefined){\n    return document.getElementById(id);\n  }else if(tag===undefined){\n    return document.getElementsByClassName(className);\n  } else{\n    return document.querySelectorAll(tag);\n  }\n}\nfunction campoPreventiva(){\n  //Faz o toggle entre o campo preventiva e corretiva\n  offToggle(\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')],\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')])\n}\nfunction offToggle(off,on){\n  //Toggle no campo corretiva e preventiva\n  for (const i of off) {\n    i.classList.add('off')\n  }\n  for (const i of on) {\n    i.classList.remove('off')\n  }\n}\nfunction campoCorretiva() {\n  offToggle(\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')],\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')]\n    )\n \n}\nfunction addLines(t,height) {\n  t.style.fontSize=height+'px';\n  if(t.offsetHeight < t.scrollHeight){\n  let h =Number(t.style.fontSize.slice(0,2));//tamanho do Textarea\n  let newRow = Math.floor(t.scrollHeight/h)\n  t.rows = newRow;\n  }\n}\n"],"names":["tipoManutencao","getElement","campoCorretiva","addEventListener","value","campoPreventiva","document","querySelector","removeChild","manutencaoPreventiva","pMaterial","getElementById","materialCounter","pCorfim","addMaterial","materialHolder","updateImages","imageText","btn","assinatura","canvas","createElement","id","popOut","quantidade","placeholder","type","title","valorUniatario","descricao","unidade","div","p","innerText","classList","add","remove","append","fillTable","resetTable","form","i","elements","length","e","undefined","tag","slice","addToTable","subTime","addMaterials","addImages","printBtn","print","children","button","nodeName","contains","final","txt","innerHTML","classes","textContent","v","replace","addToTextarea","initial","holder","images","files","image","imgHolder","img","src","URL","createObjectURL","appendChild","imgName","name","lastIndexOf","alt","target","event","popOutImg","desenharCanvas","console","log","ctx","getContext","desenhando","onmousedown","evt","beginPath","moveTo","clientX","clientY","onmouseup","onmousemove","lineTo","strokeStyle","stroke","time01","time02","t1","Number","m2","m1","x","toFixed","k","element","cloneNode","offToggle","materialsNumber","sum","material","valorUnitario","total","createMaterialField","firstChild","c","error","desc","quant","uni","valorUni","before","info","addLines","text","input","other","inputf","toAppend","sair","style","cursor","body","saveBtn","deleteBtn","backgroundColor","color","data","where","className","getElementsByClassName","querySelectorAll","off","on","t","height","fontSize","offsetHeight","scrollHeight","h","newRow","Math","floor","rows"],"version":3,"file":"formulario.1a5e005f.js.map"}