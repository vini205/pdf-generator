{"mappings":"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","sources":["src/script/form.js"],"sourcesContent":["/* Settings*/\nlet tipoManutencao = getElement('itipo');\ncampoCorretiva()\ntipoManutencao.addEventListener('change',()=>{\n  if (tipoManutencao.value=='preventiva') {\n    campoPreventiva()\n  }else{\n    campoCorretiva()\n  }\n})\n\ndocument.querySelector('#preventivaForm').removeChild(document.querySelector(\"#preventivaForm > button:nth-child(6)\"))\n// Um botão invisível no campo preventiva\n\nmanutencaoPreventiva()\n//Coloca as funções nos botões no campo preventiva\n\nconst pMaterial = document.getElementById('materialConfirm');\nvar materialCounter = 0; //serve como etiqueta para os materiais\n\nconst pCorfim = document.getElementById('materialConfirm');\npCorfim.addEventListener('click',()=>addMaterial())\nconst materialHolder = document.getElementById('div__material');\n\ngetElement('iimages').addEventListener('change', updateImages);\nconst imageText = {}//Chave:imgName valor= [img,legenda]\n\nconst btn = getElement('btn');\nbtn.addEventListener('click',fillTable);\n\n \n/* ---Funções Principais--- \n Funções acionadas pelo usuário\n*/ \n\nfunction addMaterial() {\n  // Adiciona o campo de material no formulário\n  let quantidade = document.createElement('input')\n  quantidade.id = 'imqtd'+ materialCounter;\n  quantidade.placeholder = 'Quantidade';\n  quantidade.type = 'number';\n  quantidade.title = quantidade.placeholder\n\n  let valorUniatario = document.createElement('input')\n  valorUniatario.id= 'imvalorUnit' + materialCounter\n  valorUniatario.placeholder = 'Valor Unitário'\n  valorUniatario.title = valorUniatario.placeholder\n  valorUniatario.type = 'number';\n\n  let descricao = document.createElement('input');\n  descricao.id= 'imdescricao' + materialCounter\n  descricao.placeholder = 'Decrição'\n  descricao.title = descricao.placeholder\n\n  let unidade = document.createElement('input');\n  unidade.id= 'imunidade' + materialCounter\n  unidade.placeholder = 'Unidade '\n  unidade.title = unidade.placeholder\n\n  const div = document.createElement('div');\n  div.id= 'div'+ materialCounter;\n  \n  const p = document.createElement('p');\n  p.id='resetMaterialBtn'+ materialCounter;\n  p.innerText='Excluir material';\n  p.classList.add('material__p');\n  div.classList.add('material__div');\n\n  p.addEventListener('click',()=>{\n    div.remove();\n    materialCounter--\n  });\n\n  materialCounter++;\n  div.append(quantidade,valorUniatario,descricao,unidade,p);\n  materialHolder.append(div)\n}\nfunction fillTable(){\n  //Primeiro apaga os conteudos\n  resetTable()\n let form = getElement('form');\n for (let i = 0; i < form.elements.length-1 ; i++) {\n  const e = form.elements[i];\n  let value \n  switch (e.id) {\n    case 'iimages':\n      value = 'imagens'\n      continue;\n      break;\n    case 'preventivaForm':\n      continue;\n    default:\n      value = e.value == undefined ? '' : e.value;\n      break;\n    }\n  let tag = (e.id.slice(1))\n  if(tag == 'dataChegada'){//Adicionando a data no campo data\n    addToTable(value,'data')\n  }\n  addToTable(value,tag)\n}\nlet totalTime = subTime(getElement('ihoraChegada').value,getElement('ihoraSaida').value)\naddToTable(totalTime,'tempoTotal')\naddMaterials()\n\naddImages()\n\n const printBtn = document.createElement('button')\n printBtn.classList.add('printBtn');\n printBtn.addEventListener('click',()=>print());\n printBtn.innerText='Baixar PDF ou Imprimir';\n getElement('btn-holder').append(printBtn);\n \n}\nfunction manutencaoPreventiva(){\n  //Adiciona função nos botões para adicionar no textarea\n  let p = document.getElementById('preventivaForm').children\n  for (const button of p) {\n    if(button.nodeName=='BUTTON'){\n      if(button.classList.contains('btn__prev--value')){\n        //Botões com parâmetros\n        button.addEventListener('click', ()=>{\n          let final\n          let txt = {\n            value: button.innerHTML,\n            classes:['']\n          }\n          let input ={\n            type:'number',\n            placeholder:'Digite o valor desejado ',\n            classes:['input__PopOut'],\n            initial:0\n          }\n          let btn = document.createElement('button')\n          btn.textContent ='Salvar'\n          btn.addEventListener('click', ()=>{\n            button.classList.add('used')\n            let v= document.querySelector(\"body > div.popOut > input\").value\n            final = button.innerHTML.replace('___', v)\n            \n            addToTextarea('imanutencao',final+'\\n')\n            \n          })\n          popOut(txt,input,'',btn)\n          // Mostra o popout\n\n      })\n    } else{\n\n      button.addEventListener('click',()=>{\n        addToTextarea('imanutencao',button.textContent+'\\n')\n        button.classList.add('used')\n        \n      })\n    }\n    }\n  }\n}\nfunction updateImages() {\n  const holder = document.querySelector('.preview__img')\n  let images = getElement('iimages').files;\n  if(images.length >0){\n    for (const image of images) {\n    const imgHolder = document.createElement('div');\n    const img = document.createElement('img');\n    imgHolder.classList.add('image__holder');\n    img.classList.add('img');\n    holder.classList.add('preview__img--visible');\n    img.src = URL.createObjectURL(image);\n    imgHolder.appendChild(img);\n    holder.append(imgHolder);\n\n    const imgName =  image.name.slice(0, (image.name).lastIndexOf('.')) ;\n    img.alt = imgName;\n    img.title = imgName;\n    imgHolder.id= imgName;\n    imgHolder.addEventListener('dblclick',(e)=>{\n      e.target.remove();\n      \n    },true);\n    imgHolder.addEventListener('click',(event)=>{\n      popOutImg(event.target)\n    });\n    imageText[imgName]=[img,''];\n    //Guarda a imagem sem legenda\n    }\n    return `${images.length} imagens adicionadas`\n  }else{\n    return 'Sem Imagens'\n  }\n}\n\n/*FUNÇÔES DE Auxiliares */ \n\nfunction subTime(time01,time02) {\n  console.log(time01,time02)\n  let t1 = Number(time01.slice(0,2)),\n  m2 = Number(time02.slice(3,5)),\n  m1=Number(time01.slice(3,5)),\n  t2 = Number(time02.slice(0,2));\n  let newTime1 = t1 + (m1/60);\n  let newTime2 = t2 + (m2/60);\n  let x = newTime2 - newTime1;\n  x = x.toFixed(2);\n  return x;\n\n}\nfunction addImages() {\n  for (const k in imageText) {\n    const element = imageText[k];\n    const p = document.createElement('p');\n    const div = document.createElement('div');\n    const img = element[0].cloneNode();\n    img.classList.add('img__table')\n    p.classList.add('p__table')\n    div.append(img,p);\n    p.textContent= element[1];\n    p.classList.add('legendImg');\n    offToggle([],[document.querySelector('.imagens')])\n    getElement('imagens').appendChild(div)\n  }\n}\nfunction addMaterials() {\n if(materialHolder.children.length-1 >0){\n  //Adiciona os materiais na tabela\n  offToggle([],[document.querySelector('.materiais')])\n  let materialsNumber = materialHolder.children.length-1;\n  let sum = 0;// Soma total\n  for (let i = 1; i < materialsNumber+1; i++) {\n    // pega os valores dos campos e adiciona na tabela\n    const material = materialHolder.children[i];\n    let quantidade = material.children[0].value,\n    valorUnitario = material.children[1].value,\n    descricao = material.children[2].value,\n    unidade = material.children[3].value\n\n    let total = valorUnitario *quantidade;\n    sum+= Number(total)\n    createMaterialField(descricao,quantidade,unidade,\n      'R$ ' +valorUnitario,'R$ ' +total)\n    \n  }\n  getElement('total').innerHTML = 'R$ ' +sum \n }else{\n  offToggle([document.querySelector('.materiais')],[])\n }  \n}\n\nfunction resetTable() {\n//Imagem e material da table, caso tenha\nwhile (getElement('imagens').firstChild) {\n  getElement('imagens').removeChild(getElement('imagens').firstChild);\n  offToggle([document.querySelector('#imagens')],[])\n}\ntry {\n  //Apaga os campso de materiais\n  let c =document.querySelector('.materiais').children.length\n  for (let i = c; 0 < c-1; i--) {\n    //para evitar erro ao apagar os indices o loop é descrecente\n    const e = document.querySelector('.materiais').children[i-1];\n    if(e.classList.contains('titulo')|| e.id == 'total' ){\n      continue;\n    }  \n    e.remove()\n    }\n  \n} catch (error) {}\n//Para evitar mostrar erro no index \n}\nfunction createMaterialField(descricao='descrição',quantidade='0',\nunidade='0',valorUnitario='0',sum) {\n  // Cria os campos para armazenar os dados, \n  // e os adiciona na tabela\n\n  let desc = document.createElement('div'),\n  quant = document.createElement('div'),\n  uni = document.createElement('div'),\n  valorUni = document.createElement('div'),\n  total = document.createElement('div')\n\n  desc.innerHTML = descricao\n  quant.innerHTML = quantidade\n  uni.innerHTML = unidade\n  valorUni.innerHTML = valorUnitario\n  total.innerHTML = sum\n  document.querySelector('#materialTotal').before(desc,quant,\n    uni, valorUni,total);\n\n\n}\nfunction addToTextarea(element,info) {\n  getElement(element).innerHTML +=info;\n  addLines(getElement(element),30)  \n}\nfunction popOut(text='',input='',image='',...other) {\n  /*\n    Recebe:\n    text{\n      value: '',\n      classes:[]\n    }\n    input{\n      type: '',\n      classes:[],\n      placeholder: '',\n      initial:any\n    }\n    image{\n      name: '',\n      url:'',\n      classes:['']\n    }\n    \n  */\n let toAppend =[other]//Coloca os itens na div\n let p, inputf, img,btn\n const sair = document.createElement('span');\n\n  sair.classList.add('material-symbols-outlined')\n  sair.style.cursor = 'pointer'\n  sair.innerHTML = 'close'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n\n const div = document.createElement('div');\n div.appendChild(sair)\n\n  if (text !='') {\n    p = document.createElement('p');\n    p.innerHTML = text.value\n    try {\n      p.classList.add(classes)\n    } catch (error) {\n      \n    }\n    div.append(p)\n  }\n  if(input !== '') {\n    inputf = document.createElement('input')\n    inputf.type = input.type;\n    inputf.value = input.initial\n    inputf.placeholder = input.placeholder\n    try {\n      inputf.classList.add(input.classes)\n    } catch (error) {\n      \n    }\n    div.append(inputf)\n  }\n  if(image != ''){\n\n    img = document.createElement('img')\n    img.title = image.name;\n    img.alt = image.name;\n    //img.src = URL.createObjectURL(image.image)\n    \n    try {\n      img.classList.add(image.classes)\n    } catch (error) {\n    }\n    div.append(image)\n  }\n  \n  \n  div.classList.add('popOut');\n  \n  for (let i = 0; i < toAppend.length; i++) {\n    const element = other[i];\n    div.append(element)\n  }\n  \n  document.body.appendChild(div)\n  \n}\nfunction popOutImg(e) {\n  //Aparece 2 opções, Deletar ou adicionar texto\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  const input = document.createElement('input');\n  const sair = document.createElement('span');\n  const saveBtn = document.createElement('button');\n  const deleteBtn = document.createElement('button')\n  const image = e.cloneNode();\n  \n  saveBtn.classList.add('saveBtn');\n  saveBtn.textContent = 'salvar';\n  sair.textContent ='close';\n  deleteBtn.textContent = 'Deletar Imagem'\n  input.placeholder = 'Legenda da Imagem';\n  div.classList.add('popOut');\n  sair.classList.add(['material-symbols-outlined'])\n  deleteBtn.classList.add('deleteImgBtn')\n  p.textContent='Escreva uma legenda para a imagem selecionada';\n  sair.style.cursor = 'pointer'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n  saveBtn.addEventListener('click',()=>{\n    imageText[image.alt]=[image,input.value];\n    // Salva a imagem com uma legenda\n    input.style.backgroundColor='#1eff3396';\n    saveBtn.textContent='Salvo';\n    input.style.color='green';\n  })\n  deleteBtn.addEventListener('click',()=>{\n    e.remove()\n  })\n  div.append(sair,p,image,input,saveBtn,deleteBtn);\n\n  document.body.appendChild(div);\n\n}\nfunction addToTable(data, where) {\n  //Pega os valores e coloca na tabela\n  try {\n    let element = getElement(where)\n    element.innerText = data\n  } catch (error) {\n  }\n}\nfunction getElement(id=undefined,className=undefined,tag=undefined) {\n  if(className===undefined && tag === undefined){\n    return document.getElementById(id);\n  }else if(tag===undefined){\n    return document.getElementsByClassName(className);\n  } else{\n    return document.querySelectorAll(tag);\n  }\n}\nfunction campoPreventiva(){\n  //Faz o toggle entre o campo preventiva e corretiva\n  offToggle(\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')],\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')])\n}\nfunction offToggle(off,on){\n  //Toggle no campo corretiva e preventiva\n  for (const i of off) {\n    i.classList.add('off')\n  }\n  for (const i of on) {\n    i.classList.remove('off')\n  }\n}\nfunction campoCorretiva() {\n  offToggle(\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')],\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')]\n    )\n \n}\nfunction addLines(t,height) {\n  t.style.fontSize=height+'px';\n  if(t.offsetHeight < t.scrollHeight){\n  let h =Number(t.style.fontSize.slice(0,2));//tamanho do Textarea\n  let newRow = Math.floor(t.scrollHeight/h)\n  t.rows = newRow;\n  }\n}\n"],"names":["tipoManutencao","getElement","campoCorretiva","addEventListener","value","campoPreventiva","document","querySelector","removeChild","manutencaoPreventiva","pMaterial","getElementById","materialCounter","pCorfim","addMaterial","materialHolder","updateImages","imageText","btn","quantidade","createElement","id","placeholder","type","title","valorUniatario","descricao","unidade","div","p","innerText","classList","add","remove","append","fillTable","resetTable","form","i","elements","length","e","undefined","tag","slice","addToTable","subTime","addMaterials","addImages","printBtn","print","children","button","nodeName","contains","final","txt","innerHTML","classes","textContent","v","replace","addToTextarea","popOut","initial","holder","images","files","image","imgHolder","img","src","URL","createObjectURL","appendChild","imgName","name","lastIndexOf","alt","target","event","popOutImg","time01","time02","console","log","t1","Number","m2","m1","x","toFixed","k","element","cloneNode","offToggle","materialsNumber","sum","material","valorUnitario","total","createMaterialField","firstChild","c","error","desc","quant","uni","valorUni","before","info","addLines","text","input","other","inputf","toAppend","sair","style","cursor","body","saveBtn","deleteBtn","backgroundColor","color","data","where","className","getElementsByClassName","querySelectorAll","off","on","t","height","fontSize","offsetHeight","scrollHeight","h","newRow","Math","floor","rows"],"version":3,"file":"formulario.3adc6c1f.js.map"}