{"mappings":"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","sources":["src/script/form.js"],"sourcesContent":["/* Settings*/\nlet tipoManutencao = getElement('itipo');\ncampoCorretiva()\ntipoManutencao.addEventListener('change',()=>{\n  if (tipoManutencao.value=='preventiva') {\n    campoPreventiva()\n  }else{\n    campoCorretiva()\n  }\n})\n\ndocument.querySelector('#preventivaForm').removeChild(document.querySelector(\"#preventivaForm > button:nth-child(6)\"))\n// Um botão invisível no campo preventiva\n\nmanutencaoPreventiva()\n//Coloca as funções nos botões no campo preventiva\n\nconst pMaterial = document.getElementById('materialConfirm');\nvar materialCounter = 0; //serve como etiqueta para os materiais\n\nconst pCorfim = document.getElementById('materialConfirm');\npCorfim.addEventListener('click',()=>addMaterial())\nconst materialHolder = document.getElementById('div__material');\n\ngetElement('iimages').addEventListener('change', updateImages);\nconst imageText = {}//Chave:imgName valor= [img,legenda]\n\nconst btn = getElement('btn');\nbtn.addEventListener('click',fillTable);\n\n// getElement('assinatura-btn').addEventListener('click',assinatura)\n\n//colocar data atual\ndocument.querySelectorAll('[type=date]').forEach((e)=>{\n  let date = new Date()\n  e.value =\n  `${date.getFullYear()}-${date.getMonth().toString().padStart(2,'0') }-${date.getDate().toString().padStart(2,'0')}`\n})\n\n\n\n \n/* ---Funções Principais--- \n Funções acionadas pelo usuário\n*/ \nfunction assinatura() {\n//Criando quadro canvas e dando popOut\n  let canvas = document.createElement('canvas')\n  canvas.id = 'quadro'\n  popOut({value:'Assinatura'},'','',canvas)\n  desenharCanvas()\n}\nfunction addMaterial() {\n  // Adiciona o campo de material no formulário\n  let quantidade = document.createElement('input')\n  quantidade.id = 'imqtd'+ materialCounter;\n  quantidade.placeholder = 'Quantidade';\n  quantidade.type = 'number';\n  quantidade.title = quantidade.placeholder\n\n  let valorUniatario = document.createElement('input')\n  valorUniatario.id= 'imvalorUnit' + materialCounter\n  valorUniatario.placeholder = 'Valor Unitário'\n  valorUniatario.title = valorUniatario.placeholder\n  valorUniatario.type = 'number';\n  valorUniatario.pattern = /d{2}(,|.)\\d{2}/\n\n  let descricao = document.createElement('input');\n  descricao.id= 'imdescricao' + materialCounter\n  descricao.placeholder = 'Decrição'\n  descricao.title = descricao.placeholder\n\n  \n  let unidade = document.createElement('input');\n  unidade.id= 'imunidade' + materialCounter\n  unidade.placeholder = 'Unidade de Medida '\n  unidade.title = unidade.placeholder\n  unidade.list = 'unidadesMedida'\n  //Usar o dataset com valores \n\n\n  const div = document.createElement('div');\n  div.id= 'div'+ materialCounter;\n  \n  const p = document.createElement('p');\n  p.id='resetMaterialBtn'+ materialCounter;\n  p.innerText='Excluir material';\n  p.classList.add('material__p','btn--form');\n  div.classList.add('material__div');\n\n  p.addEventListener('click',()=>{\n    div.remove();\n    materialCounter--\n  });\n\n  materialCounter++;\n  div.append(descricao,quantidade,unidade,valorUniatario,p);\n  materialHolder.append(div)\n}\nfunction fillTable(){\n  //Primeiro apaga os conteudos\n  resetTable()\n let form = getElement('form');\n for (let i = 0; i < form.elements.length-1 ; i++) {\n  const e = form.elements[i];\n  let value \n  switch (e.id) {\n    case 'iimages':\n      value = 'imagens'\n      continue;\n      break;\n    case 'preventivaForm':\n      continue;\n    case 'ichamado':\n      let date = new Date()\n      value = e.value +`A${String(date.getUTCFullYear()).substring(2)}`;\n      break;\n    case 'idataSaida':\n    case 'idataChegada':\n      value = fixDate(e.value)\n      break\n    default:\n      value = e.value == undefined ? '' : e.value;\n      break;\n    }\n  let tag = (e.id.slice(1))\n  if(tag == 'dataChegada'){\n    //Adicionando a data no campo data\n    \n    addToTable(value,'data')\n  }\n  addToTable(value,tag)\n}\nlet totalTime = subTime(getElement('ihoraChegada').value,getElement('ihoraSaida').value)\naddToTable(totalTime,'tempoTotal')\naddMaterials()\n\naddImages()\nif(getElement('btnId') === null){\n  const printBtn = document.createElement('button')\n  printBtn.classList.add('printBtn');\n  printBtn.id = 'btnId';\n  printBtn.addEventListener('click',()=>print());\n  printBtn.innerText='Imprimir pdf';\n  getElement('btn-holder').append(printBtn);\n}\n \n}\nfunction manutencaoPreventiva(){\n  //Adiciona função nos botões para adicionar no textarea\n  let p = document.getElementById('preventivaForm').children\n  for (const button of p) {\n    if(button.nodeName=='BUTTON'){\n      if(button.classList.contains('btn__prev--value')){\n        //Botões com parâmetros\n        button.addEventListener('click', ()=>{\n          let final\n          let txt = {\n            value: button.innerHTML,\n            classes:['']\n          }\n          let input ={\n            type:'number',\n            placeholder:'Digite o valor desejado ',\n            classes:['input__PopOut'],\n            initial:''\n          }\n          let btn = document.createElement('button')\n          btn.textContent ='Salvar'\n          btn.addEventListener('click', savetxt)\n          function savetxt() {\n            button.classList.add('used')\n            let v= document.querySelector(\"body > div.popOut > input\").value\n            final = button.innerHTML.replace('___', v)\n            addToTextarea('imanutencao',final+'\\n')\n            btn.removeEventListener('click',savetxt)\n            btn.textContent = 'Salvo';\n            \n          }\n          popOut(txt,input,'',btn)\n          // Mostra o popout\n\n      })\n    } else{\n\n      button.addEventListener('click',addtxt)\n      function addtxt() {\n          addToTextarea('imanutencao',button.textContent+'\\n')\n          button.classList.add('used')\n          button.removeEventListener('click',addtxt)\n      }\n    }\n    }\n  }\n}\nfunction updateImages() {\n  const holder = document.querySelector('.preview__img')\n  let images = getElement('iimages').files;\n  if(images.length >0){\n    for (const image of images) {\n    const imgHolder = document.createElement('div');\n    const img = document.createElement('img');\n    imgHolder.classList.add('image__holder');\n    img.classList.add('img');\n    holder.classList.add('preview__img--visible');\n    img.src = URL.createObjectURL(image);\n    imgHolder.appendChild(img);\n    holder.append(imgHolder);\n\n    const imgName =  image.name.slice(0, (image.name).lastIndexOf('.')) ;\n    img.alt = imgName;\n    img.title = imgName;\n    imgHolder.id= imgName;\n    imgHolder.addEventListener('dblclick',(e)=>{\n      e.target.remove();\n      \n    },true);\n    imgHolder.addEventListener('click',(event)=>{\n      popOutImg(event.target)\n    });\n    imageText[imgName]=[img,''];\n    //Guarda a imagem sem legenda\n    }\n    return `${images.length} imagens adicionadas`\n  }else{\n    return 'Sem Imagens'\n  }\n}\n\n/*FUNÇÔES DE Auxiliares */ \n\nfunction desenharCanvas() {\n  let canvas = document.getElementById('quadro')\n  let ctx = canvas.getContext(\"2d\")\n  let desenhando = false\n  // O offset representam a distância\n  // entre a borda do elemento e as bordas da tela\n  canvas.onmousedown = function (e){\n    console.log(e)\n    console.log(canvas)\n    ctx.beginPath();\n    ctx.moveTo(e.clientX - canvas.offsetWidth, e.clientY - canvas.offsetHeight);\n    //calculando a distancia real\n    desenhando = true\n  }\n  canvas.onmouseup = function (){\n    desenhando = false\n  }\n  canvas.onmousemove = function (e){\n    if (desenhando){\n      ctx.lineTo(e.clientX - canvas.offsetWidth, e.clientY - canvas.offsetHeight);\n      ctx.strokeStyle = \"black\";\n      ctx.stroke();\n    }\n  }\n}\nfunction subTime(time01,time02) {\n  let t1 = Number(time01.slice(0,2)),\n  m2 = Number(time02.slice(3,5)),\n  m1=Number(time01.slice(3,5)),\n  t2 = Number(time02.slice(0,2));\n  let newTime1 = t1 + (m1/60);\n  let newTime2 = t2 + (m2/60);\n  let x = newTime2 - newTime1;\n  x = x.toFixed(2);\n  return x;\n\n}\nfunction addImages() {\n  for (const k in imageText) {\n    const element = imageText[k];\n    const p = document.createElement('p');\n    const div = document.createElement('div');\n    const img = element[0].cloneNode();\n    img.classList.add('img__table')\n    p.classList.add('p__table')\n    div.append(img,p);\n    p.textContent= element[1];\n    p.classList.add('legendImg');\n    offToggle([],[document.querySelector('.imagens')])\n    getElement('imagens').appendChild(div)\n  }\n}\nfunction addMaterials() {\n if(materialHolder.children.length >0){\n  //Adiciona os materiais na tabela\n  offToggle([],[document.querySelector('.materiais')])\n  let materialsNumber = materialHolder.children.length;\n  let sum = 0;// Soma total\n  for (let i = 0; i < materialsNumber; i++) {\n    // pega os valores dos campos e adiciona na tabela\n    const material = materialHolder.children[i];\n    console.log(material.children)\n    let descricao = material.children[0].value,\n    quantidade = material.children[1].value,\n    unidade = material.children[2].value,\n    valorUnitario = material.children[3].value\n\n    let total = valorUnitario *quantidade;\n    sum+= Number(total)\n    total = total.toLocaleString(\"pt-BR\", { style: \"currency\" , currency:\"BRL\"});\n    valorUnitario = valorUnitario.toLocaleString('pt-BR',{style:'currency', currency:\"BRL\"});\n\n    createMaterialField(descricao,quantidade,unidade,\n      valorUnitario,total)\n    \n  }\n  sum = sum.toLocaleString('pt-BR',{style:\"currency\", currency:'BRL'})\n  getElement('total').innerHTML = sum \n }else{\n  offToggle([document.querySelector('.materiais')],[])\n }  \n}\nfunction resetTable() {\n//Imagem e material da table, caso tenha\nwhile (getElement('imagens').firstChild) {\n  getElement('imagens').removeChild(getElement('imagens').firstChild);\n  offToggle([document.querySelector('#imagens')],[])\n}\ntry {\n  //Apaga os campso de materiais\n  let c =document.querySelector('.materiais').children.length\n  for (let i = c; 0 < c-1; i--) {\n    //para evitar erro ao apagar os indices o loop é descrecente\n    const e = document.querySelector('.materiais').children[i-1];\n    if(e.classList.contains('titulo')|| e.id == 'total' ){\n      continue;\n    }  \n    e.remove()\n    }\n} catch (error) {}\n//Para evitar mostrar erro no index \n}\nfunction createMaterialField(descricao='descrição',quantidade='0',\nunidade='0',valorUnitario='0',sum) {\n  // Cria os campos para armazenar os dados, \n  // e os adiciona na tabela\n\n  let desc = document.createElement('div'),\n  quant = document.createElement('div'),\n  uni = document.createElement('div'),\n  valorUni = document.createElement('div'),\n  total = document.createElement('div')\n\n  desc.innerHTML = descricao\n  quant.innerHTML = quantidade\n  uni.innerHTML = unidade\n  valorUni.innerHTML = valorUnitario\n  total.innerHTML = sum\n  document.querySelector('#materialTotal').before(desc,quant,\n    uni,valorUni,total);\n\n\n}\nfunction addToTextarea(element,info) {\n  getElement(element).value +=info;\n  addLines(getElement(element),30)  \n}\nfunction popOut(text='',input='',image='',...other) {\n  /*\n    Recebe:\n    text{\n      value: '',\n      classes:[]\n    }\n    input{\n      type: '',\n      classes:[],\n      placeholder: '',\n      initial:any\n    }\n    image{\n      name: '',\n      url:'',\n      classes:['']\n    }\n    \n  */\n let toAppend =[other]//Coloca os itens na div\n let p, inputf, img,btn\n const sair = document.createElement('span');\n\n  sair.classList.add('material-symbols-outlined')\n  sair.style.cursor = 'pointer'\n  sair.innerHTML = 'close'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n\n const div = document.createElement('div');\n div.appendChild(sair)\n\n  if (text !='') {\n    p = document.createElement('p');\n    p.innerHTML = text.value\n    try {\n      p.classList.add(classes)\n    } catch (error) {\n      \n    }\n    div.append(p)\n  }\n  if(input !== '') {\n    inputf = document.createElement('input')\n    inputf.type = input.type;\n    inputf.value = input.initial\n    inputf.placeholder = input.placeholder\n    try {\n      inputf.classList.add(input.classes)\n    } catch (error) {\n      \n    }\n    div.append(inputf)\n  }\n  if(image != ''){\n\n    img = document.createElement('img')\n    img.title = image.name;\n    img.alt = image.name;\n    //img.src = URL.createObjectURL(image.image)\n    \n    try {\n      img.classList.add(image.classes)\n    } catch (error) {\n    }\n    div.append(image)\n  }\n  \n  \n  div.classList.add('popOut');\n  \n  for (let i = 0; i < toAppend.length; i++) {\n    const element = other[i];\n    div.append(element)\n  }\n  \n  document.body.appendChild(div)\n  \n}\nfunction popOutImg(e) {\n  //Aparece 2 opções, Deletar ou adicionar texto\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  const input = document.createElement('input');\n  const sair = document.createElement('span');\n  const saveBtn = document.createElement('button');\n  const deleteBtn = document.createElement('button')\n  const image = e.cloneNode();\n  \n  saveBtn.classList.add('saveBtn');\n  saveBtn.textContent = 'salvar';\n  sair.textContent ='close';\n  deleteBtn.textContent = 'Deletar Imagem'\n  input.placeholder = 'Legenda da Imagem';\n  div.classList.add('popOut');\n  sair.classList.add(['material-symbols-outlined'])\n  deleteBtn.classList.add('deleteImgBtn')\n  p.textContent='Escreva uma legenda para a imagem selecionada';\n  sair.style.cursor = 'pointer'\n  sair.addEventListener('click',()=>{\n    div.remove();\n  });\n  saveBtn.addEventListener('click',()=>{\n    imageText[image.alt]=[image,input.value];\n    // Salva a imagem com uma legenda\n    input.style.backgroundColor='#1eff3396';\n    saveBtn.textContent='Salvo';\n    input.style.color='green';\n  })\n  deleteBtn.addEventListener('click',()=>{\n    e.remove()\n  })\n  div.append(sair,p,image,input,saveBtn,deleteBtn);\n\n  document.body.appendChild(div);\n\n}\nfunction addToTable(data, where) {\n  //Pega os valores e coloca na tabela\n  try {\n    let element = getElement(where)\n    element.innerText = data\n  } catch (error) {\n  }\n}\nfunction getElement(id=undefined,className=undefined,tag=undefined) {\n  if(className===undefined && tag === undefined){\n    return document.getElementById(id);\n  }else if(tag===undefined){\n    return document.getElementsByClassName(className);\n  } else{\n    return document.querySelectorAll(tag);\n  }\n}\nfunction campoPreventiva(){\n  //Faz o toggle entre o campo preventiva e corretiva\n  offToggle(\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')],\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')])\n}\nfunction offToggle(hide,show){\n  //Toggle no campo corretiva e preventiva\n  for (const i of hide) {\n    i.classList.add('off')\n  }\n  for (const i of show) {\n    i.classList.remove('off')\n  }\n}\nfunction campoCorretiva() {\n  offToggle(\n    [getElement(undefined,'preventivaTable')[0],\n    getElement('preventivaForm')],\n    [getElement(undefined,'corretivaTable')[0],\n    getElement('corretivaForm')]\n    )\n \n}\nfunction addLines(t,height) {\n  t.style.fontSize=height+'px';\n  if(t.offsetHeight < t.scrollHeight){\n  let h =Number(t.style.fontSize.slice(0,2));\n  //tamanho do Textarea\n  let newRow = Math.floor(t.scrollHeight/h)\n  t.rows = newRow;\n  }\n}\nfunction fixDate(date) {\n  // 2024/02/08\n  date = date.replace(/-/g,'/')\n  console.log(date)\n  let year = String(date).substring(0,4)\n  let month = String(date).substring(5,7)\n  let day = String(date).substring(8,10)\n  return `${day}/${month}/${year}`;\n}"],"names":["tipoManutencao","getElement","campoCorretiva","addEventListener","value","campoPreventiva","document","querySelector","removeChild","manutencaoPreventiva","pMaterial","getElementById","materialCounter","pCorfim","addMaterial","materialHolder","updateImages","imageText","btn","assinatura","canvas","createElement","id","popOut","desenharCanvas","quantidade","placeholder","type","title","valorUniatario","pattern","descricao","unidade","list","div","p","innerText","classList","add","remove","append","fillTable","resetTable","form","i","elements","length","e","date","Date","String","getUTCFullYear","substring","fixDate","undefined","tag","slice","addToTable","subTime","addMaterials","addImages","printBtn","print","children","button","nodeName","contains","final","txt","innerHTML","classes","textContent","savetxt","v","replace","addToTextarea","removeEventListener","initial","addtxt","holder","images","files","image","imgHolder","img","src","URL","createObjectURL","appendChild","imgName","name","lastIndexOf","alt","target","event","popOutImg","ctx","getContext","desenhando","onmousedown","console","log","beginPath","moveTo","clientX","offsetWidth","clientY","offsetHeight","onmouseup","onmousemove","lineTo","strokeStyle","stroke","time01","time02","t1","Number","m2","m1","x","toFixed","k","element","cloneNode","offToggle","materialsNumber","sum","material","valorUnitario","total","toLocaleString","style","currency","createMaterialField","firstChild","c","error","desc","quant","uni","valorUni","before","info","addLines","text","input","other","inputf","toAppend","sair","cursor","body","saveBtn","deleteBtn","backgroundColor","color","data","where","className","getElementsByClassName","querySelectorAll","hide","show","t","height","fontSize","scrollHeight","h","newRow","Math","floor","rows","year","month","forEach","getFullYear","getMonth","toString","padStart","getDate"],"version":3,"file":"formulario.c0a0cccc.js.map"}